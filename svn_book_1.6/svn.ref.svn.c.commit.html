<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>svn commit (ci)</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.76.1" />
    <link rel="home" href="index.html" title="Version Control with Subversion" />
    <link rel="up" href="svn.ref.svn.html#svn.ref.svn.c" title="1.2. svn 子命令" />
    <link rel="prev" href="svn.ref.svn.c.cleanup.html" title="svn cleanup" />
    <link rel="next" href="svn.ref.svn.c.copy.html" title="svn copy (cp)" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">svn commit (ci)</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="svn.ref.svn.c.cleanup.html">上一页</a> </td>
          <th width="60%" align="center">1.2. svn 子命令</th>
          <td width="20%" align="right"> <a accesskey="n" href="svn.ref.svn.c.copy.html">下一页</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry" title="svn commit (ci)">
      <a id="svn.ref.svn.c.commit"></a>
      <div class="titlepage"></div>
      <a id="idp12238016" class="indexterm"></a>
      <div class="refnamediv">
        <h2>名称</h2>
        <p>svn commit (ci) — 将修改从工作副本发送到版本库。</p>
      </div>
      <div class="refsect1" title="概要">
        <a id="idp12240976"></a>
        <h2>概要</h2>
        <p>
          <code class="literal">svn commit [PATH...]</code>
        </p>
      </div>
      <div class="refsect1" title="描述">
        <a id="idp12242592"></a>
        <h2>描述</h2>
        <p>Send changes from your working copy to the repository.  If you do not supply
a log message with your commit by using either the <code class="option">--file</code>
(<code class="option">-F</code>) or <code class="option">--message</code> (<code class="option">-m</code>)
option, <span class="command"><strong>svn</strong></span> will launch your editor for you to compose a
commit message.  See the <code class="literal">editor-cmd</code> list entry in <a class="xref" href="svn.advanced.confarea.html#svn.advanced.confarea.opts.config" title="1.3.2. 配置">第 1.3.2 节 “配置”</a>.</p>
        <p><span class="command"><strong>svn commit</strong></span> will send any lock tokens that it finds and
will release locks on all <em class="replaceable"><code>PATH</code></em>s committed
(recursively)  unless <code class="option">--no-unlock</code> is passed.</p>
        <div class="tip" title="提示" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Tip">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[提示]" src="images/tip.png" />
              </td>
              <th align="left">提示</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>If you begin a commit and Subversion launches your editor to compose the
commit message, you can still abort without committing your changes.  If you
want to cancel your commit, just quit your editor without saving your commit
message and Subversion will prompt you to either abort the commit, continue
with no message, or edit the message again.</p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1" title="选项">
        <a id="idp12250784"></a>
        <h2>选项</h2>
        <div class="informalexample">
          <pre class="screen">
--changelist ARG
--depth ARG
--editor-cmd CMD
--encoding ENC
--file (-F) FILENAME
--force-log
--keep-changelists
--message (-m) MESSAGE
--no-unlock
--quiet (-q)
--targets FILENAME
--with-revprop ARG
</pre>
        </div>
      </div>
      <div class="refsect1" title="例子">
        <a id="idp12252848"></a>
        <h2>例子</h2>
        <p>使用命令行提交一个包含日志信息的文件修改，当前目录(<span class="quote">“<span class="quote"><code class="filename">.</code></span>”</span>)是没有说明的目标路径：</p>
        <div class="informalexample">
          <pre class="screen">
$ svn commit -m "added howto section."
Sending        a
Transmitting file data .
Committed revision 3.
</pre>
        </div>
        <p>Commit a modification to the file <code class="filename">foo.c</code> (explicitly
specified on the command line) with the commit message in a file named
<code class="filename">msg</code>:</p>
        <div class="informalexample">
          <pre class="screen">
$ svn commit -F msg foo.c
Sending        foo.c
Transmitting file data .
Committed revision 5.
</pre>
        </div>
        <p>If you want to use a file that's under version control for your commit
message with <code class="option">--file</code> (<code class="option">-F</code>), you need to pass
the <code class="option">--force-log</code> option:</p>
        <div class="informalexample">
          <pre class="screen">
$ svn commit -F file_under_vc.txt foo.c
svn: The log message file is under version control
svn: Log message file is a versioned file; use '--force-log' to override

$ svn commit --force-log -F file_under_vc.txt foo.c
Sending        foo.c
Transmitting file data .
Committed revision 6.
</pre>
        </div>
        <p>提交一个已经预定要删除的文件：</p>
        <div class="informalexample">
          <pre class="screen">
$ svn commit -m "removed file 'c'."
Deleting       c

Committed revision 7.
</pre>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="svn.ref.svn.c.cleanup.html">上一页</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="svn.ref.svn.html#svn.ref.svn.c">上一级</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="svn.ref.svn.c.copy.html">下一页</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">svn cleanup </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">起始页</a>
          </td>
          <td width="40%" align="right" valign="top"> svn copy (cp)</td>
        </tr>
      </table>
    </div>
  </body>
</html>
